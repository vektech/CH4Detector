/**
 *******************************************************************************
 * @copyright 2017-2020, Electronic Technology Co. Ltd
 * @file      utlities.c
 * @version   V1.0.0
 * @brief     
 * @warning   
 *******************************************************************************
 * @remarks
 * 1. Version                Date                 Author
 *    v1.0.0                 2020年1月1日          Unknown
 *    Modification: 创建文档
 *******************************************************************************
 */
/* NEED FIX */
/*******************************************************************************
 *                 Include File Section ('#include')
 ******************************************************************************/
#include "utlities.h"

/*******************************************************************************
 *                 Macro Define Section ('#define')
 ******************************************************************************/

/*******************************************************************************
 *                 Struct Define Section ('typedef')
 ******************************************************************************/

/*******************************************************************************
 *                 File Static Prototype Declare Section ('static function')
 ******************************************************************************/

/*******************************************************************************
 *                 Global Variable Declare Section ('variable')
 ******************************************************************************/
/* 秒--分钟--小时--日--星期--月--年 */
uint8_t Time_Code[7] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t timeCOPY[6];

/*******************************************************************************
 *                 File Static Variable Define Section ('static variable')
 ******************************************************************************/

/*******************************************************************************
 *                 Normal Function Define Section ('function')
 ******************************************************************************/
void timecodeTotimecopy(void)
{
    timeCOPY[0] = Time_Code[0];
    timeCOPY[1] = Time_Code[1];
    timeCOPY[2] = Time_Code[2];
    timeCOPY[3] = Time_Code[3];
    timeCOPY[4] = Time_Code[5];
    timeCOPY[5] = Time_Code[6];
}

void timecopyTotimecode(void)
{
    Time_Code[6] = timeCOPY[5];
    Time_Code[5] = timeCOPY[4];
    Time_Code[3] = timeCOPY[3];
    Time_Code[2] = timeCOPY[2];
    Time_Code[1] = timeCOPY[1];
    Time_Code[0] = timeCOPY[0];
}

/* 16进制转BCD码 */
UINT8 hex2bcd(UINT8 temp)
{
    return temp % 10 + (temp / 10) * 16;
}

/* BCD转16进制 BCD:0~99 */
UINT8 bcd2hex(UINT8 temp)
{
    return (temp / 16) * 10 + temp % 16;
}

UINT8 Get_crc(UINT8 *Pdata, UINT8 num)
{
    UINT8 i = 0;
    UINT8 sum = 0;
    for (i = 0; i < num - 2; i++)
        sum += *(Pdata + i);
    return sum;
}

/*******************************************************************************
 *                 File Static Function Define Section ('static function')
 ******************************************************************************/

/*******************************************************************************
 *                 End of File ('EOF')
 ******************************************************************************/
